/**
 * Perfect Typography System - Jony Ive Design Philosophy
 * 
 * Principles:
 * 1. Hierarchy Through Weight - Not just size
 * 2. Purposeful Contrast - Every weight serves a purpose
 * 3. Readable Rhythm - Line heights that breathe
 * 4. Semantic Meaning - Typography communicates intent
 */

/* Apple SF Pro Font System - True Jony Ive Typography */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800&display=swap');

:root {
  /* Perfect Typography Scale */
  --text-xs: 0.75rem;      /* 12px - Captions, metadata */
  --text-sm: 0.875rem;     /* 14px - Secondary text */
  --text-base: 1rem;       /* 16px - Body text */
  --text-lg: 1.125rem;     /* 18px - Large body */
  --text-xl: 1.25rem;      /* 20px - Small headings */
  --text-2xl: 1.5rem;      /* 24px - Section headings */
  --text-3xl: 1.875rem;    /* 30px - Page headings */
  --text-4xl: 2.25rem;     /* 36px - Hero headings */
  --text-5xl: 3rem;        /* 48px - Display */
  --text-6xl: 4rem;        /* 64px - Marketing */

  /* Perfect Line Heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* Font Weights with Purpose */
  --weight-ultralight: 200;  /* Delicate emphasis */
  --weight-light: 300;       /* Subtle text */
  --weight-normal: 400;      /* Default body */
  --weight-medium: 500;      /* Gentle emphasis */
  --weight-semibold: 600;    /* Strong emphasis */
  --weight-bold: 700;        /* Headlines */
  --weight-extrabold: 800;   /* Hero text */

  /* Letter Spacing for Hierarchy */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;

  /* Colors with Semantic Meaning */
  --text-primary: rgb(17, 24, 39);      /* Main content */
  --text-secondary: rgb(75, 85, 99);    /* Supporting content */
  --text-tertiary: rgb(156, 163, 175);  /* Subtle content */
  --text-accent: rgb(0, 114, 170);      /* Brand emphasis */
  --text-success: rgb(34, 197, 94);     /* Positive states */
  --text-warning: rgb(245, 158, 11);    /* Warning states */
  --text-error: rgb(239, 68, 68);       /* Error states */
  --text-inverse: rgb(255, 255, 255);   /* Dark backgrounds */
}

/* Base Typography - SC Prosper Sans with Apple System Fallbacks */
html {
  font-family: 'SCProsperSans', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', system-ui, sans-serif;
  font-feature-settings: 'kern', 'liga', 'clig', 'calt';
  font-variation-settings: normal;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-synthesis: none;
}

body {
  font-size: var(--text-base);
  font-weight: var(--weight-normal);
  line-height: var(--leading-normal);
  color: var(--text-primary);
  letter-spacing: var(--tracking-normal);
}

/* Perfect Heading Hierarchy */
.perfect-h1 {
  font-size: var(--text-4xl);
  font-weight: var(--weight-bold);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  color: var(--text-primary);
}

.perfect-h2 {
  font-size: var(--text-3xl);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  color: var(--text-primary);
}

.perfect-h3 {
  font-size: var(--text-2xl);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-snug);
  letter-spacing: var(--tracking-normal);
  color: var(--text-primary);
}

.perfect-h4 {
  font-size: var(--text-xl);
  font-weight: var(--weight-medium);
  line-height: var(--leading-snug);
  letter-spacing: var(--tracking-normal);
  color: var(--text-primary);
}

.perfect-h5 {
  font-size: var(--text-lg);
  font-weight: var(--weight-medium);
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  color: var(--text-secondary);
}

.perfect-h6 {
  font-size: var(--text-base);
  font-weight: var(--weight-medium);
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-wide);
  color: var(--text-secondary);
  text-transform: uppercase;
}

/* Body Text Variants */
.perfect-body {
  font-size: var(--text-base);
  font-weight: var(--weight-normal);
  line-height: var(--leading-relaxed);
  color: var(--text-primary);
}

.perfect-body-large {
  font-size: var(--text-lg);
  font-weight: var(--weight-normal);
  line-height: var(--leading-relaxed);
  color: var(--text-primary);
}

.perfect-body-small {
  font-size: var(--text-sm);
  font-weight: var(--weight-normal);
  line-height: var(--leading-normal);
  color: var(--text-secondary);
}

/* Emphasis Variants */
.perfect-emphasis {
  font-weight: var(--weight-medium);
  color: var(--text-primary);
}

.perfect-strong {
  font-weight: var(--weight-semibold);
  color: var(--text-primary);
}

.perfect-subtle {
  font-weight: var(--weight-light);
  color: var(--text-tertiary);
}

/* Functional Text Styles */
.perfect-caption {
  font-size: var(--text-xs);
  font-weight: var(--weight-normal);
  line-height: var(--leading-normal);
  color: var(--text-tertiary);
  letter-spacing: var(--tracking-wide);
}

.perfect-overline {
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-none);
  color: var(--text-secondary);
  letter-spacing: var(--tracking-widest);
  text-transform: uppercase;
}

.perfect-label {
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  line-height: var(--leading-normal);
  color: var(--text-secondary);
  letter-spacing: var(--tracking-normal);
}

/* Interactive Text */
.perfect-link {
  color: var(--text-accent);
  text-decoration: none;
  font-weight: var(--weight-medium);
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.perfect-link:hover {
  color: var(--text-primary);
  text-decoration: underline;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
}

.perfect-button-text {
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-wide);
}

/* Brand Typography */
.perfect-brand {
  font-size: var(--text-5xl);
  font-weight: var(--weight-extrabold);
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-tighter);
  color: var(--text-primary);
}

.perfect-hero {
  font-size: var(--text-4xl);
  font-weight: var(--weight-bold);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  color: var(--text-primary);
}

/* Code and Monospace */
.perfect-code {
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  font-size: var(--text-sm);
  font-weight: var(--weight-normal);
  line-height: var(--leading-normal);
  color: var(--text-secondary);
  background: rgba(0, 0, 0, 0.04);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
}

/* Responsive Typography */
@media (max-width: 768px) {
  .perfect-h1 {
    font-size: var(--text-3xl);
  }
  
  .perfect-h2 {
    font-size: var(--text-2xl);
  }
  
  .perfect-h3 {
    font-size: var(--text-xl);
  }
  
  .perfect-hero {
    font-size: var(--text-3xl);
  }
  
  .perfect-brand {
    font-size: var(--text-4xl);
  }
}

@media (max-width: 480px) {
  .perfect-h1 {
    font-size: var(--text-2xl);
  }
  
  .perfect-h2 {
    font-size: var(--text-xl);
  }
  
  .perfect-hero {
    font-size: var(--text-2xl);
  }
  
  .perfect-brand {
    font-size: var(--text-3xl);
  }
}

/* Dark Mode Typography */
@media (prefers-color-scheme: dark) {
  :root {
    --text-primary: rgb(243, 244, 246);
    --text-secondary: rgb(156, 163, 175);
    --text-tertiary: rgb(107, 114, 128);
    --text-accent: rgb(96, 165, 250);
  }
  
  .perfect-code {
    background: rgba(255, 255, 255, 0.06);
    color: var(--text-secondary);
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  :root {
    --text-primary: rgb(0, 0, 0);
    --text-secondary: rgb(68, 68, 68);
    --text-tertiary: rgb(102, 102, 102);
    --text-accent: rgb(0, 85, 153);
  }
  
  .perfect-link {
    text-decoration: underline;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .perfect-link {
    transition: none;
  }
}

/* Print Styles */
@media print {
  .perfect-h1,
  .perfect-h2,
  .perfect-h3 {
    color: rgb(0, 0, 0);
  }
  
  .perfect-body {
    color: rgb(0, 0, 0);
    font-size: 12pt;
    line-height: 1.4;
  }
  
  .perfect-link {
    color: rgb(0, 0, 0);
    text-decoration: underline;
  }
}

/* Focus States */
.perfect-focusable:focus {
  outline: 2px solid var(--text-accent);
  outline-offset: 2px;
}

/* Selection Styles */
::selection {
  background: rgba(0, 114, 170, 0.2);
  color: var(--text-primary);
}

/* Accessibility Improvements */
.perfect-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Font Loading Optimization - SCProsperSans */
@font-face {
  font-family: 'SCProsperSans';
  font-style: normal;
  font-weight: 300;
  font-display: swap;
  src: url('/fonts/SCProsperSans-Light.woff2') format('woff2');
}

@font-face {
  font-family: 'SCProsperSans';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('/fonts/SCProsperSans-Regular.woff2') format('woff2');
}

@font-face {
  font-family: 'SCProsperSans';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('/fonts/SCProsperSans-Medium.woff2') format('woff2');
}

@font-face {
  font-family: 'SCProsperSans';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('/fonts/SCProsperSans-Bold.woff2') format('woff2');
}

/* Fallback to Inter */
@font-face {
  font-family: 'Inter';
  font-style: normal;
  font-weight: 200 800;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfAZJhiJ-Ek-_EeAmM.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

/* Variable Font Support */
@supports (font-variation-settings: normal) {
  .perfect-h1,
  .perfect-h2,
  .perfect-h3,
  .perfect-hero,
  .perfect-brand {
    font-variation-settings: 'wght' var(--weight-bold);
  }
  
  .perfect-emphasis {
    font-variation-settings: 'wght' var(--weight-medium);
  }
  
  .perfect-strong {
    font-variation-settings: 'wght' var(--weight-semibold);
  }
}